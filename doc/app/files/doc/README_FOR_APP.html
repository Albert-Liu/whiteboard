<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>File: README_FOR_APP [Rails Application Documentation]</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='file' id='wrapper'>
      <div class='header'>
        <h1 class='name'>README_FOR_APP</h1>
        <div class='paths'>
          doc/README_FOR_APP
        </div>
        <div class='last-update'>
          Last Update:
          <span class='datetime'>Sun May 16 20:01:21 -0400 2010</span>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            Welcome to the CMU-SV rails project for the Education group.
            </p>
            <h2>System Modules</h2>
            <p>
            <a href="../../classes/PeerEvaluationReview.html">Peer Evaluation</a>
            </p>
            <h2>Conventions</h2>
            <p>
            Please use JQuery instead of Prototype. Whenever possible, AJAX should
            degrade gracefuly. Ie, there should be a way to do the same action without
            AJAX.
            </p>
            <p>
            Whenever referencing an image use an <%= image_tag %> ie <%=
            image_tag(&#8220;/images/student_male.jpg&#8220;, :size =>
            &#8220;50x50&#8221;, :border=>&#8220;0&#8221;, :alt=>&#8220;These fields
            can be edited by a student role&#8221;) %> On the production machine,
            images referenced with image_tag will be cached by apache for faster page
            renderings. See <a
            href="http://api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html">api.rubyonrails.org/classes/ActionView/Helpers/AssetTagHelper.html</a>
            for more information.
            </p>
            <p>
            When evaluating new plugins, find ones that are well maintained and are
            positioned for Rails 3.x
            </p>
            <p>
            Things to note...
            </p>
            <ul>
            <li>for a while the code separated a user into two tables, user and person. The
            original idea was that user would contain all the fields generated by
            restful-authentication and people would contain all the columns that were
            specific to this application. After some code was auto-generated, that idea
            was scrapped. All user data is in the user table. However, a few aspects of
            the system were never cleaned up. For example, effort_log has a column
            called &#8220;person_id&#8220; which uses the person controller but really
            ends up pointing to the user table.
            
            </li>
            <li>is_student and is_staff is mutually exclusive for the effort logging.
            
            </li>
            <li>On this project use JQuery instead of Prototype
            
            </li>
            </ul>
            <p>
            <h2>MfSE - Getting Started for Students</h2> Students should
            </p>
            <ol>
            <li>create mfse_development schema and user
            
            </li>
            <li>copy config/database.cc.yml to config/database.yml and configure
            
            </li>
            <li>copy config/google_apps.cc.yml to config/google_apps.yml and configure
            
            </li>
            <li>rake db:schema:load
            
            </li>
            <li>rake db:migrate (to load just some data)
            
            </li>
            <li>goto <a href="http://localhost:3000/users/new">localhost:3000/users/new</a>
            to create an account.
            
            </li>
            <li>with MySQL query browser, alter your is_student, etc fields.
            
            </li>
            </ol>
            <p>
            My system configuration Ruby 1.8.6-p287 Mongrel 1.1.4
            </p>
            <p>
            Just in case the code uses a gem that you don&#8217;t have on your machine,
            I&#8217;m listing all the gems included on production. If you discover that
            you need one installed, please email the class (and me.) <pre>archive-tar-minitar actionmailer (2.1.0, 1.3.6, 1.3.5) actionpack (2.1.0,&#x000A;1.13.6, 1.13.5) actionwebservice (1.2.6, 1.2.5) activerecord (2.1.0,&#x000A;1.15.6, 1.15.5) activeresource (2.1.0) activesupport (2.1.0, 1.4.4)&#x000A;cgi_multipart_eof_fix (2.5.0) daemons (1.0.9) fastthread (1.0.1) fcgi&#x000A;(0.8.7) flexmock (0.8.3) gem_plugin (0.2.3) hanna (0.1.12) haml (2.2.21)&#x000A;lockfile (1.4.3) logging (0.9.4) mongrel (1.1.1) mysql (2.7)&#x000A;openwferu-scheduler (0.9.16) rails (2.1.0, 1.2.6, 1.2.5) rake (0.8.1,&#x000A;0.7.3) rcov (0.8.1.2.0) rdoc (2.3.0) rubygems-update (1.2.0) sources&#x000A;(0.0.1) ziya (2.0.5) </pre>
            </p>
            <h2>System Architecture</h2>
            <p>
            This application follows Ruby on Rails conventions whenever possible. In
            particular, newer modules have &#8220;thick&#8221; models and
            &#8220;thin&#8221; controllers.
            </p>
            <p>
            The code runs on a virtualized hosting provider specializing in Ruby on
            Rails application deployment. The software currently runs in one mongrel
            instance connected to a mysql database running on the same machine.
            Rails&#8217; asset host feature is enabled which increases performance by
            having apache (not mongrel) render most static files including images, css
            files, and javascript files.
            </p>
            <p>
            There are a series of crontabs that execute daily or once a week. These
            call various rake tasks which in turn call various controllers or models.
            Lengthy crontab actions track progress through the activity, and are
            designed, if executed again to only process the remanining data. ie weekly
            effort log reminders. (Ironically, this feature has never been needed.)
            </p>
            <h3>Amazon S3</h3>
            <p>
            Newer parts of the system are beginning to use Amazon&#8217;s S3 for file
            hosting. This is done with the aid of the PaperClip (file attacment) and
            aws-s3 gem.
            </p>
            <h3>Google Apps Integration</h3>
            <ul>
            <li>Mailing Lists - Until very recently, there was no way to know who was on
            which \
            
            </li>
            </ul>
            <p>
            google mailing lists without asking IT to look it up. Now this application
            queries Google&#8217;s provisitoning API to present to the user exactly who
            is on each mailing list.
            </p>
            <ul>
            <li>When a new user is created, their google account can be auto created at the
            
            </li>
            </ul>
            <p>
            same time.
            </p>
            <h3>TWiki Integration</h3>
            <p>
            Some twiki information is better stored in a database. Also, we like to
            have key information stored only in one place. For this reason we found a
            way to do cross site scripting where information from one server is
            injected into the webpage on a different server. For more details, read
            this blog: (INSERT HERE)
            </p>
            <ul>
            <li><a href="../../classes/User.html">User</a> data shown on people&#8217;s
            twiki pages comes from this application. On a
            
            </li>
            </ul>
            <p>
            user&#8217;s twiki page (ie <a
            href="http://info.sv.cmu.edu/twiki/bin/view/Main/AndrewCarnegie">info.sv.cmu.edu/twiki/bin/view/Main/AndrewCarnegie</a>)
            a bit of AJAX loads a rails page.
            </p>
            <ul>
            <li><a href="../../classes/Team.html">Team</a> data shown on a coure&#8217;s
            twiki page comes from this application.
            
            </li>
            <li>When a new user is created, their twiki account can be auto created at the
            
            </li>
            </ul>
            <p>
            same time.
            </p>
            <h3>Curriculum Website Integration</h3>
            <ul>
            <li>Comments post on the curriculum website are managed by the rails
            application.
            
            </li>
            </ul>
            <h2>Additional References</h2>
            <p>
            To learn about acts_as_versioned, check out:
            </p>
            <pre>* http://duffsdevice.blogspot.com/2007/06/actsasversioned-simple-walkthrough.html&#x000A;* http://blog.cornetdesign.com/2009/05/acts_as_versioned-getting-started/&#x000A;* http://www.urbanhonking.com/ideasfordozens/archives/2006/02/learns_to_use_a_1.html</pre>
            <p>
            To learn about Google Apps and Provisioning, check out:
            </p>
            <pre>* http://code.google.com/p/gdatav2rubyclientlib/</pre>
            <p>
            To learn about the table sorting, check out:
            </p>
            <pre>* http://beckelman.net/post/2008/10/23/Client-Side-Table-Sorting-Paging-and-Filtering-with-jQuery-Demo.aspx&#x000A;* http://www.compulsivoco.com/2008/08/tablesorter-filter-results-based-on-search-string/</pre>
            <p>
            To learn about the date picker code, check out:
            </p>
            <pre>* http://www.dynarch.com/projects/calendar/</pre>
            <h2>Todos</h2>
            <p>
            Perhaps alter the course and course_numbers model. If so, update
            effort_logs_controller and look for foundations in
            recent_foundations_or_course
            </p>
            <p>
            Use this README file to introduce your application and point to useful
            places in the API for learning more. Run &#8220;rake doc:app&#8221; to
            generate API documentation for your models, controllers, helpers, and
            libraries.
            </p>
          </div>
          <div id='section'>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
