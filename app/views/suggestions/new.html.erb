<% content_for :title, 'New Suggestion' %>

<h1>New Suggestion</h1>
<p>To increase transparency of issues,  <%= link_to "place the issue here",  "https://github.com/professor/cmusv/issues" %>.
</p>

<br/>

<p>Why?
When we first launched the site, we added a mechanism for students and faculty to submit ideas for improving the site at the bottom of every page. While it successfully captures feedback from our users, it does not promote an open dialog.
Github.com provides a natural public discourse about feature requests and issues.
</p>

<br/>
<h1>Documentation</h1>
<p>Limited documentation is <%= link_to "available here", "http://rubydoc.info/github/professor/cmusv/frames" %>.
Please submit an issue for any missing documentation. If you want to enhance the documentation, do so and submit a
<%= link_to "pull request", "http://rubydoc.info/github/professor/cmusv/file/doc/Git_Directions.rdoc" %></p>
<br/>
<br/>
<h1>New Suggestion (Old Interface)</h1>
<%= form_for(@suggestion) do |f| %>
  <% if @suggestion.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@suggestion.errors.count, "error") %> prohibited this suggestion from being saved:</h2>

      <ul>
      <% @suggestion.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %> 
  <p>
    <%= f.hidden_field :page %>    
  </p>

  <p>
    <%= f.label :comment %><br />
    <%= f.text_area :comment, :size => "80x10"  %>
  </p>
  <% if !current_user  %>
  <p>
    <%= f.label :email %><br />
    <%= f.text_field :email %>
  </p>
  <% end %>

  <p>
    <%= f.submit "Create" %>
  </p>
<% end %>

<p><%= link_to 'Back', request.env["HTTP_REFERER"] unless request.env["HTTP_REFERER"].nil? %></p>